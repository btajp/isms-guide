# Requirements: セキュリティガイドラインテンプレート追加

## Overview

ISO/IEC 27001:2022 の管理策を実装するために必要な「方針（Policy）」と「ガイドライン（Guideline）」のテンプレートを追加する。

現在の文書体系では、方針文書（policies/）は存在するが、それを具体的なルールに落とし込んだ「従業員向けガイドライン」や「エンジニア向けガイドライン」が不足している。また、技術的なセキュリティ要件を包括的にカバーする方針文書も不足している。

## 文書階層の設計

```
方針（Policy）
  └─ 組織の意図・方向性を示す上位文書
       │
       ├─ 情報セキュリティ方針（既存）
       ├─ アクセス制御方針（既存）
       ├─ 情報の許容される利用方針（既存）
       ├─ サプライヤー管理方針（既存）
       └─ 技術的セキュリティ方針（新規）← 暗号化、ネットワーク、開発、変更管理
             │
             ▼
ガイドライン（Guideline）
  └─ 方針を具体的なルールに落とし込んだ実践的文書
       │
       ├─ 従業員向けセキュリティガイドライン（新規）
       │    └─ 全従業員が守るべきセキュリティルール
       │
       └─ エンジニア向けセキュリティガイドライン（新規）
            └─ 開発者・運用者が守るべき技術的ルール
```

## User Stories

### US-1: 従業員のセキュリティ責任理解

**As** 一般従業員
**I want** 自分が守るべきセキュリティルールを一覧で確認したい
**So that** 日常業務でセキュリティ違反を起こさない

#### Acceptance Criteria

1. **AC-1.1**: WHEN 従業員がガイドラインを閲覧する THE SYSTEM SHALL 入社時に理解すべきセキュリティ責任を表示する
2. **AC-1.2**: WHEN 従業員がガイドラインを閲覧する THE SYSTEM SHALL 在職中に遵守すべき具体的なルール（パスワード管理、クリアデスク、情報の取扱い等）を表示する
3. **AC-1.3**: WHEN 従業員がガイドラインを閲覧する THE SYSTEM SHALL 退職・異動時の義務（資産返却、継続する秘密保持義務）を表示する
4. **AC-1.4**: WHEN 従業員がガイドラインを閲覧する THE SYSTEM SHALL セキュリティ事象の報告方法を表示する
5. **AC-1.5**: WHEN 従業員がガイドラインを閲覧する THE SYSTEM SHALL 違反時の対応について表示する

### US-2: エンジニアの技術的セキュリティ理解

**As** エンジニア（開発者・運用者）
**I want** 技術的なセキュリティ要件を一覧で確認したい
**So that** セキュアなシステム開発・運用ができる

#### Acceptance Criteria

1. **AC-2.1**: WHEN エンジニアがガイドラインを閲覧する THE SYSTEM SHALL 開発環境・本番環境の分離ルールを表示する
2. **AC-2.2**: WHEN エンジニアがガイドラインを閲覧する THE SYSTEM SHALL セキュアコーディングの基本原則を表示する
3. **AC-2.3**: WHEN エンジニアがガイドラインを閲覧する THE SYSTEM SHALL 暗号化・鍵管理のルールを表示する
4. **AC-2.4**: WHEN エンジニアがガイドラインを閲覧する THE SYSTEM SHALL ネットワークセキュリティのルールを表示する
5. **AC-2.5**: WHEN エンジニアがガイドラインを閲覧する THE SYSTEM SHALL 変更管理・リリース管理のルールを表示する
6. **AC-2.6**: WHEN エンジニアがガイドラインを閲覧する THE SYSTEM SHALL ログ取得・監視のルールを表示する
7. **AC-2.7**: WHEN エンジニアがガイドラインを閲覧する THE SYSTEM SHALL 脆弱性管理のルールを表示する

### US-3: 技術的セキュリティの方針確認

**As** ISMS管理責任者
**I want** 技術的セキュリティに関する方針を一元的に参照したい
**So that** 監査時に方針の存在を示せる

#### Acceptance Criteria

1. **AC-3.1**: WHEN 管理責任者が方針を閲覧する THE SYSTEM SHALL 暗号化方針を表示する
2. **AC-3.2**: WHEN 管理責任者が方針を閲覧する THE SYSTEM SHALL ネットワークセキュリティ方針を表示する
3. **AC-3.3**: WHEN 管理責任者が方針を閲覧する THE SYSTEM SHALL 開発セキュリティ方針を表示する
4. **AC-3.4**: WHEN 管理責任者が方針を閲覧する THE SYSTEM SHALL 変更管理方針を表示する
5. **AC-3.5**: WHEN 管理責任者が方針を閲覧する THE SYSTEM SHALL 各方針が対応する管理策番号を確認できる

## Functional Requirements

### FR-1: 従業員向けセキュリティガイドライン

新規作成: `docs/isms/guidelines/employee-security-guideline.md`

カバーする管理策：

| 管理策 | 内容 |
|--------|------|
| A.5.10 | 情報及びその他の関連資産の利用の許容範囲 |
| A.5.11 | 資産の返却 |
| A.5.12 | 情報の分類 |
| A.5.13 | 情報のラベル付け |
| A.5.14 | 情報転送 |
| A.6.2 | 雇用条件（セキュリティ責任） |
| A.6.3 | 情報セキュリティの意識向上、教育及び訓練 |
| A.6.5 | 雇用の終了又は変更後の責任 |
| A.6.6 | 秘密保持契約又は守秘義務契約 |
| A.6.7 | リモートワーク |
| A.6.8 | 情報セキュリティ事象の報告 |
| A.7.7 | クリアデスク・クリアスクリーン |
| A.7.9 | 構外にある資産のセキュリティ |
| A.7.10 | 記憶媒体 |
| A.8.1 | 利用者エンドポイント機器 |

### FR-2: 技術的セキュリティ方針

新規作成: `docs/isms/policies/technical-security-policy.md`

カバーする管理策：

| セクション | 管理策 | 内容 |
|------------|--------|------|
| 暗号化方針 | A.8.24 | 暗号の使用 |
| ネットワークセキュリティ方針 | A.8.20, A.8.21, A.8.22, A.8.23 | ネットワークセキュリティ、サービス、分離、フィルタリング |
| 開発セキュリティ方針 | A.8.25, A.8.26, A.8.27, A.8.28, A.8.29, A.8.31 | セキュア開発、要求事項、アーキテクチャ、コーディング、テスト、環境分離 |
| 変更管理方針 | A.8.19, A.8.32 | ソフトウェア導入、変更管理 |
| マルウェア対策方針 | A.8.7 | マルウェアに対する保護 |
| 脆弱性管理方針 | A.8.8 | 技術的脆弱性の管理 |
| 構成管理方針 | A.8.9 | 構成管理 |
| ログ・監視方針 | A.8.15, A.8.16, A.8.17 | ログ取得、監視活動、クロック同期 |

### FR-3: エンジニア向けセキュリティガイドライン

新規作成: `docs/isms/guidelines/engineer-security-guideline.md`

技術的セキュリティ方針を具体的なルールに落とし込んだ文書。

カバーする管理策（FR-2と同じ + 追加）：

| 管理策 | 内容 |
|--------|------|
| A.8.2 | 特権的アクセス権 |
| A.8.3 | 情報へのアクセス制限 |
| A.8.4 | ソースコードへのアクセス |
| A.8.5 | セキュリティを保った認証 |
| A.8.6 | 容量・能力の管理 |
| A.8.10 | 情報の削除 |
| A.8.11 | データマスキング |
| A.8.12 | データ漏えいの防止 |
| A.8.18 | 特権的なユーティリティプログラムの使用 |
| A.8.30 | 外部委託による開発 |
| A.8.33 | テスト用情報 |
| A.8.34 | 監査テスト中の情報システムの保護 |

### FR-4: ディレクトリ構成の拡張

```
docs/isms/
├── guidelines/                    # 新規ディレクトリ
│   ├── employee-security-guideline.md
│   └── engineer-security-guideline.md
├── policies/
│   ├── ... (既存)
│   └── technical-security-policy.md  # 新規
└── ... (その他既存)
```

## Non-Functional Requirements

### NFR-1: 既存テンプレートとの一貫性

- 同じフロントマター形式を使用
- 同じプレースホルダー規約（`{{変数名}}`）を使用
- `<div v-pre>` でプレースホルダーをラップ

### NFR-2: 読みやすさ

- ガイドラインは「〜すること」「〜してはならない」形式で明確に記述
- チェックリスト形式で自己点検可能に
- 具体例を含める

### NFR-3: 管理策との対応

- 各セクションに対応する管理策番号を明記
- controls/index.md と適用宣言書からのリンクを追加

## Out of Scope

- 物理的セキュリティガイドライン（物理セキュリティ方針が先に必要）
- 関係当局連絡先一覧（組織固有性が高い）

## Dependencies

- 既存の方針文書（information-security-policy.md, access-control-policy.md 等）
- 解説コンテンツ（controls/index.md）
- 適用宣言書（soa/statement-of-applicability.md）

## References

- ISO/IEC 27001:2022 Annex A
- ISO/IEC 27002:2022（管理策の実施ガイダンス）
